<div class="dashboard-view">
  <div
    class="
      site-details
      container"
  >
    <div
      class="
        row
        align-center
        breadcrumbs"
    >
      <a
        routerLink="/publisher/dashboard"
        data-test="publisher-navigate-to-dashboard"
      >
        <p
          class="
            adsh-copy
            adsh-copy--small"
        >
          My Sites
        </p>
      </a>
      <div
        class="
          adsh-circle
          adsh-circle--x-small
          adsh-circle--navy
          breadcrumbs-divider"
      >
      </div>
      <p
        class="
          adsh-copy
          adsh-copy--small
          adsh-copy--x-dark
          adsh-copy--semi"
        data-test="publisher-site-url"
      >
        {{ site.name }}
      </p>
    </div>

    <div
      class="
        row
        no-gutters
        justify-between
        align-center"
    >
      <div
        class="
          row
          col-xs-5
          col-md-4"
      >
        <h1
          class="
            adsh-heading
            adsh-heading--primary"
          data-test="publisher-site-url"
        >
          {{ site.name }}
        </h1>
      </div>
      <div
        class="
          col-xs-7
          col-md-8
          row
          justify-end
          align-center"
      >
        <div
          class="
            row
            status-toggle-wrapper"
        >
          <p>
            <span class="adsh-copy">Status: </span>
            <span
              class="
                adsh-copy
                adsh-copy--x-dark
                lowercase-to-capitalize"
            >
              {{ siteStatusEnum[site.status] }}
            </span>
          </p>
          <mat-slide-toggle
            color="primary"
            [checked]="site.status === siteStatusEnum.ACTIVE "
            ([ngModel])="site.status"
            (change)="onSiteStatusChange(site.status)"
            data-test="publisher-site-status-toggle"
          ></mat-slide-toggle>
        </div>
        <button
          class="
            adsh-btn
            adsh-btn--white
            adsh-btn--no-border
            btn-delete"
          (click)="deleteSite()"
        >
          <img
            class="
              adsh-icon
              adsh-icon--prepend"
            src="/assets/images/x-circle--gray.svg"
            alt="Delete icon"
          >
          <span
            class="
              adsh-copy
              adsh-copy--dark"
          >
            Delete Site
          </span>
        </button>
      </div>
    </div>
    <div
      class="
          adsh-box
          ad-units
          row
          justify-between
          align-center"
    >
      <p
        class="
            adsh-copy
            adsh-copy--semi"
      >
        Site language:
        <span
          class="lowercase">
          {{language && language.name}}
        </span>
      </p>
      <button
        class="
           adsh-btn
           adsh-btn--white
           adsh-btn--no-border
           hidden-md"
        (click)="navigateToEditSite('basic-information', 1)"
        data-test="publisher-site-edit"
      >
        <img
          class="
            adsh-icon
            adsh-icon--prepend"
          src="assets/images/edit.svg"
          alt="Edit icon"
        >
        <span
          class="
            adsh-copy
            adsh-copy--dark"
        >
      Edit Basic Info
      </span>
      </button>
    </div>

    <section class="adsh-box adsh-box--high">
      <div class="row justify-end">
        <button
          class="
           adsh-btn
           adsh-btn--white
           adsh-btn--no-border
           hidden-md"
          (click)="navigateToEditSite('additional-filtering', 2)"
          data-test="publisher-site-edit"
        >
          <img
            class="
            adsh-icon
            adsh-icon--prepend"
            src="assets/images/edit.svg"
            alt="Edit icon"
          >
          <span
            class="
            adsh-copy
            adsh-copy--dark"
          >
            {{(!filtering.requires.length && !filtering.excludes.length) ? 'Add Filtering' : 'Edit Filtering'}}
        </span>
        </button>
      </div>
      <div
        *ngIf="!!filtering.requires.length || !!filtering.excludes.length"
        class="
        adsh-box
        adsh-copy
        row"
      >
        <div
          *ngIf="!!filtering.requires.length"
          class="
          col-xs-12
          col-lg-6"
        >
          <div>
            <app-targeting-display
              class="app-targeting-display"
              [items]="filtering.requires"
              [isExclude]="false"
              [canRemove]="false"
              [targetingOptions]="filteringOptions"
            ></app-targeting-display>
          </div>
        </div>

        <div
          *ngIf="!!filtering.excludes.length"
          class="
          col-xs-12
          col-lg-6"
        >
          <div>
            <app-targeting-display
              class="app-targeting-display"
              [items]="filtering.excludes"
              [isExclude]="true"
              [canRemove]="false"
              [targetingOptions]="filteringOptions"
            ></app-targeting-display>
          </div>
        </div>
      </div>

    </section>


    <!--<div-->
      <!--class="-->
        <!--row-->
        <!--justify-between"-->
    <!--&gt;-->
      <!--<div-->
        <!--class="-->
          <!--col-->
          <!--col-md-6-->
          <!--adsh-box-->
          <!--adsh-box&#45;&#45;large-->
          <!--chart-box"-->
        <!--*ngFor="let chartSeriesType of chartSeries; let i = index"-->
      <!--&gt;-->
        <!--<div class="chart-stats">-->
          <!--<p-->
            <!--class="-->
              <!--chart-name-->
              <!--adsh-copy"-->
            <!--data-test="chart-series-type"-->
          <!--&gt;-->
            <!--{{ chartSeriesType }}:-->
          <!--</p>-->
          <!--<div-->
            <!--class="-->
              <!--row-->
              <!--align-center"-->
          <!--&gt;-->
            <!--<span-->
              <!--class="-->
                <!--adsh-heading-->
                <!--adsh-heading&#45;&#45;primary"-->
              <!--data-test="chart-value"-->
            <!--&gt;-->
              <!--{{ site[chartSeriesType] || 0 }}-->
            <!--</span>-->
            <!--<span-->
              <!--class="chart-change"-->
              <!--data-test="chart-value-difference"-->
            <!--&gt;-->
              <!--{{ barChartDifference }} ({{ barChartDifferenceInPercentage | percent }})-->
            <!--</span>-->
          <!--</div>-->
        <!--</div>-->
        <!--<div-->
          <!--class="-->
            <!--row-->
            <!--align-center-->
            <!--justify-center-->
            <!--chart-wrapper"-->
        <!--&gt;-->
          <!--&lt;!&ndash;<app-chart&ndash;&gt;-->
            <!--&lt;!&ndash;*ngIf="!!barChartData;"&ndash;&gt;-->
            <!--&lt;!&ndash;class="&ndash;&gt;-->
              <!--&lt;!&ndash;chart&ndash;&gt;-->
              <!--&lt;!&ndash;row&ndash;&gt;-->
              <!--&lt;!&ndash;align-center&ndash;&gt;-->
              <!--&lt;!&ndash;justify-center"&ndash;&gt;-->
            <!--&lt;!&ndash;(update)="getChartData($event, chartSeriesType)"&ndash;&gt;-->
            <!--&lt;!&ndash;[barChartData]="barChartData[i]"&ndash;&gt;-->
            <!--&lt;!&ndash;[barChartLabels]="barChartLabels[i].labels"&ndash;&gt;-->
          <!--&lt;!&ndash;&gt;</app-chart>&ndash;&gt;-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->


    <div class="col">
      <div
        class="
          adsh-box
          ad-units
          row
          justify-between
          align-center">
        <p
          class="
            adsh-copy
            adsh-copy--semi"
        >
          List of Ad Units
        </p>
        <button
          class="
           adsh-btn
           adsh-btn--white
           adsh-btn--no-border
           hidden-md"
          (click)="navigateToEditSite('create-ad-units', 3)"
          data-test="publisher-site-edit"
        >
          <img
            class="
            adsh-icon
            adsh-icon--prepend"
            src="assets/images/edit.svg"
            alt="Edit icon"
          >
          <span
            class="
            adsh-copy
            adsh-copy--dark">
             Edit Ad Units
          </span>
        </button>
      </div>
      <app-ad-units
        *ngFor="let adUnit of site.adUnits"
        [siteCode]="site.code"
        [adUnit]="adUnit"
      ></app-ad-units>
    </div>

    <div
      class="
        adsh-box
        ad-units
        row
        justify-center
        hidden-md"
    >
      <button
        class="
          adsh-btn
          adsh-btn--white
          adsh-btn--no-border
          adsh-heading
          adsh-heading--secondary"
        (click)="navigateToEditSite('create-ad-units', 3)"
        data-test="publisher-site-create-new-ad-unit"
      >
        <img
          class="
            adsh-icon
            adsh-icon--prepend"
          src="assets/images/plus-circle--blue.svg"
        >
        Create new Ad Unit
      </button>
    </div>
  </div>
</div>
