<section
  class="
    homepage-view
    site-edit-summary"
>
  <div
    class="
      text-center
      site-edit-summary"
  >
    <h1
      class="
        dwmth-heading
        dwmth-heading--primary"
    >
      Summary
    </h1>
    <p
      class="
        dwmth-copy
        dwmth-copy--medium"
    >
      Please check if all settings are correct and publish the site.
      Next you need to get your code.
      Once you click the "Add site" button you will be redirected to the main dashboard.
      Please click the site you have just added, then the "Get code" button, copy the code for each of the ad units and place it on your website.
      If you have any doubts please refer to the instruction:
      <a
        href="https://github.com/adshares/adserver/wiki/How-to-use-Advertising-Ecosystem#how-to-use-the-adserver--instruction-for-publishers"
        target="_blank"
      >
        https://github.com/adshares/adserver/wiki/How-to-use-Advertising-Ecosystem#how-to-use-the-adserver--instruction-for-publishers
      </a>
    </p>
  </div>

  <div
    class="
      dwmth-box
      dwmth-box--large
      campaign-edit-summary__basic-info"
  >
    <div
      class="
        row
        align-center
        justify-between"
    >
      <h3
        class="
          dwmth-heading
          dwmth-heading--secondary"
      >
        1. Basic Information
      </h3>
      <a
        routerLink="../basic-information"
        [queryParams]="{step: 1, summary: true}"
        data-test="publisher-edit-site-summary-navigate-to-basic-information"
      >
        <button
          class="
            dwmth-btn
            dwmth-btn--white
            dwmth-blue"
        >
          Edit
        </button>
      </a>
    </div>

    <div class="row">
      <div class="col
                  site-edit-summary__basic-info-element">
        <p
          class="
          dwmth-copy
          dwmth-copy--light"
        >
          Website name
        </p>

        <p
          class="
          dwmth-copy
          dwmth-copy--semi
          dwmth-copy--medium
          dwmth-copy--x-dark"
          data-test="publisher-site-url"
        >
          {{ site.name }}
        </p>
      </div>

      <div
        class="
          col-xs-4
          col"
      >
        <p
          class="dwmth-copy
          dwmth-copy--light"
        >
          Content Language
        </p>

        <p
          class="
            dwmth-copy
            dwmth-copy--semi
            dwmth-copy--medium
            dwmth-copy--x-dark"
          data-test="publisher-site-language"
        >
          {{ site.primaryLanguage }}
        </p>
      </div>
    </div>
  </div>

  <div
    class="
      dwmth-box
      dwmth-box--large
      site-edit-summary__targeting-info"
  >
    <div
      class="
        row
        align-center
        justify-between"
    >
      <h3
        class="
          dwmth-heading
          dwmth-heading--secondary"
      >
        2. Filtering
      </h3>
      <a
        routerLink="../additional-filtering"
        [queryParams]="{step: 2, summary: true}"
        data-test="publisher-edit-site-summary-navigate-to-additional-information"
      >
        <button
          class="
            dwmth-btn
            dwmth-btn--white
            dwmth-blue"
        >
          Edit
        </button>
      </a>
    </div>

    <div class="row">
      <div
        class="
          col-xs-5
          site-edit-summary__info-cell"
      >
        <p
          class="
            dwmth-copy
            dwmth-copy--x-dark
            targeting-title"
        >
          Requires:
        </p>
        <div>
          <app-targeting-display
            *ngIf="site.filteringArray.requires"
            [items]="site.filteringArray.requires"
            [isExclude]="false"
            [canRemove]="false"
            [targetingOptions]="filteringOptions"
          ></app-targeting-display>
        </div>
      </div>

      <div
        class="
          col-xs-5
          site-edit-summary__info-cell"
      >
        <p
          class="
            dwmth-copy
            dwmth-copy--x-dark
            targeting-title"
        >
          Excludes:
        </p>
        <div>
          <app-targeting-display
            *ngIf="site.filtering.excludes"
            [items]="site.filtering.excludes"
            [isExclude]="true"
            [canRemove]="false"
            [targetingOptions]="filteringOptions"
          ></app-targeting-display>
        </div>
      </div>
    </div>
  </div>

  <div
    class="
      dwmth-box
      dwmth-box--large
      site-edit-summary__poster-info"
  >
    <div
      class="
        row
        align-center
        justify-between"
    >
      <h3
        class="
          dwmth-heading
          dwmth-heading--secondary"
      >
        3. Ad Units
      </h3>
      <a
        routerLink="../create-ad-units"
        [queryParams]="{step: 3, summary: true}"
        data-test="publisher-edit-site-summary-navigate-to-create-ad-units"
      >
        <button
          class="
            dwmth-btn
            dwmth-btn--white
            dwmth-blue"
        >
          Edit
        </button>
      </a>
    </div>

    <div *ngIf="!!site.adUnits.length"
         class="row"
         [ngClass]="site.adUnits.length > 4 ? 'justify-between' : 'justify-start'">

      <div
        class="row site-edit-summary__poster-unit"
        *ngFor="let adUnit of site.adUnits"
        data-test="publisher-edit-site-summary-ad-units"
      >
        <div
          class="
                  row
                  align-center
                  justify-center
                  site-edit-create-posters-units__poster-unit__visualization-box"
        >
          <div
            class="dwmth-copy site-edit-summary__poster-unit__visualization"
            data-test="publisher-edit-site-create-ad-units-form-ad-unit-size"
          > {{ adUnit.size.name }}
          </div>
        </div>

        <strong
          class="dwmth-copy
                 dwmth-copy--semi
                 dwmth-copy--x-dark
                 dwmth-copy--medium"
          data-test="publisher-edit-site-create-poster-units-form-poster-unit-name"
        >
          {{ adUnit.size.width }} x {{ adUnit.size.height }}

        </strong>
        <div>
          <div
            class="dwmth-chip-box"
            *ngFor="let tag of adUnit.size.tags"
            data-test="publisher-edit-site-create-ad-units-form-ad-unit-tag"
          >
            {{ tag }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="
      dwmth-box
      dwmth-box--large
      row
      justify-between"
  >
    <a
      routerLink="../create-ad-units"
      [queryParams]="{step: 3}"
      data-test="publisher-edit-site-navigate-back"
    >
      <button
        class="
          dwmth-btn
          dwmth-btn--white
          dwmth-blue"
      >
        Back
      </button>
    </a>

    <div class="row">
      <button
        class="
            dwmth-btn
            dwmth-btn--white
            dwmth-blue
            save-as-draft"
        type="button"
        (click)="saveSite(true)"
        data-test="publisher-edit-site-save-as-draft"
      >
        Save as draft
      </button>
      <button
        [disabled]="canSubmit"
        class="
            dwmth-btn
            dwmth-btn--blue"
        (click)="saveSite(false)"
        type="button"
        data-test="publisher-edit-site-start-campaign"
      >
        Add site
      </button>
    </div>
  </div>
</section>
