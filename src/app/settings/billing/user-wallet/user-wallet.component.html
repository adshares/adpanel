<section class="container user-wallet">
  <div class="ap-box">
    <div class="box-title">
      <h2 class="ap-heading ap-heading--h2">Your wallet</h2>
      <p class="ap-copy box-subtitle">Deposit or withdraw funds</p>
      <div class="error-msg" *ngIf="isImpersonated">You cannot change user balance during impersonation.</div>
    </div>

    <div class="box-content col row--gap18">
      <div class="col row--gap8">
        <p
          *ngIf="calculateFunds"
          class="ap-copy ap-copy--medium ap-copy--secondary"
          data-test="user-total-funds-in-currency">
          {{ wallet.walletBalance | calculateInCurrency : 2 }}
        </p>
        <p class="ap-copy ap-copy--large ap-copy--semi" data-test="user-total-funds">
          {{ wallet.walletBalance | formatMoney : 4 : crypto : code }}
        </p>
      </div>

      <div class="row row--gap18 ap-copy" *ngIf="!isImpersonated">
        <div class="col row--gap8">
          <button
            class="ap-btn ap-btn--secondary"
            (click)="openAddFundsDialog()"
            data-test="add-funds-dialog-open-button">
            <fa-icon [icon]="faCreditCard" class="ap-icon ap-icon--prepend"></fa-icon>
            Deposit funds
          </button>
          <a [href]="getAdsFaqLink" rel="noopener noreferrer" target="_blank" data-test="settings-faq-link">
            How to get ADS coins
          </a>
        </div>
        <div class="col row--gap8">
          <button
            class="ap-btn ap-btn--secondary ap-btn-info"
            (click)="openWithdrawFundsDialog()"
            data-test="withdraw-funds-dialog-open-button">
            <fa-icon [icon]="faCreditCard" class="ap-icon ap-icon--prepend"></fa-icon>
            Withdraw funds
          </button>
          <a [href]="withdrawAdsFaqLink" rel="noopener noreferrer" target="_blank" data-test="settings-faq-link">
            How to withdraw ADS coins
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="ap-box">
    <div class="box-title">
      <h2 class="ap-heading ap-heading--h2">BONUS</h2>
      <p class="ap-copy box-subtitle">You can spend your bonus funds on advertising. Withdrawal is not possible.</p>
    </div>
    <div class="box-content">
      <div class="col row--gap8">
        <p
          *ngIf="calculateFunds"
          class="ap-copy ap-copy--medium ap-copy--secondary"
          data-test="bonus-funds-in-currency">
          {{ wallet.bonusBalance | calculateInCurrency : 2 }}
        </p>
        <p class="ap-copy ap-copy--large ap-copy--semi" data-test="bonus-funds">
          {{ wallet.bonusBalance | formatMoney : 4 : crypto : code }}
        </p>
      </div>
    </div>
  </div>
</section>
