<div
  class="
    col
    dwmth-login-wrapper"
>
  <div>
      <h2
        class="
          dwmth-heading
          dwmth-heading--primary"
      >
        Hello!
      </h2>
      <p
        class="
          dwmth-copy
          dwmth-copy--large"
      >
        Please log in to your account.
      </p>

      <form
        [formGroup]="loginForm"
        (ngSubmit)="login()"
        class="dwmth-form"
        data-test="auth-login-form"
      >
        <div
                class="error-msg"
                *ngIf="criteriaError && loginFormSubmitted"
        >
          Password or email is invalid.
        </div>
        <div class="dwmth-form-input__box">
          <label
            for="email"
            class="dwmth-form-label"
          >
            Email Address
          </label>
          <input
            id="email"
            class="dwmth-form-input"
            type="email"
            name="email"
            formControlName="email"
            data-test="auth-login-form-email"
          >
          <span
            *ngIf="loginForm.get('email').valid && loginForm.get('email').touched"
            class="input-valid"
          ></span>
          <span
            class="error-msg"
            *ngIf="loginForm.hasError('required', ['email']) && loginFormSubmitted"
          >
            Email required!
          </span>
          <span
            class="error-msg"
            *ngIf="!loginForm.hasError('required', ['email']) && loginFormSubmitted && loginForm.hasError('email', ['email']) && loginFormSubmitted"
          >
            Invalid email!
          </span>
        </div>

        <div class="dwmth-form-input__box">
          <label
              for="password"
              class="dwmth-form-label"
          >
            Password
          </label>
          <input
              id="password"
              class="dwmth-form-input"
              type="password"
              name="password"
              formControlName="password"
              data-test="auth-login-form-password"
          >
          <span
              *ngIf="loginForm.get('password').valid && loginForm.get('password').touched"
              class="input-valid"
          ></span>
          <span
            class="error-msg"
            *ngIf="loginForm.hasError('minlength', ['password']) && loginFormSubmitted">
              Minimum 8 signs required!
          </span>
          <span
            class="error-msg"
            *ngIf="loginForm.hasError('required', ['password']) && loginFormSubmitted"
          >
            Password required
          </span>
          <span
            class="error-msg"
            *ngIf="loginForm.hasError('maxLoginAttemps', ['password']) && loginFormSubmitted"
          >
            Max login failed attemps!
          </span>
          <span
                  class="error-msg"
                  *ngIf="loginForm.hasError('passwordLifeTime', ['password']) && loginFormSubmitted"
          >
            Password was expire!
          </span>
          <span
                  class="warning-msg"
                  *ngIf="loginForm.hasError('notifyPasswordGraceTime', ['password']) && loginFormSubmitted"
          >
            Password will expire in next days!
          </span>
        </div>

        <div
          class="
            row
            align-center
            justify-between
            dwmth-login__remember"
        >
<!--
          <div
            class="
              row
              align-center"
          >
            <input
              #rememberUser
              id="remember-user"
              type="checkbox"
              data-test="auth-login-form-remember-user-checkbox"
            >
            <label
              for="remember-user"
              class="checkbox-label"
            ></label>
            <span
              class="
                dwmth-copy
                dwmth-copy&#45;&#45;large
                dwmth-copy&#45;&#45;x-dark"
            >
              Remember me
            </span>
          </div>
-->
          <a
            class="dwmth-copy
                   dwmth-copy--large"
            routerLink="/auth/forgotten-password"
            data-test="auth-redirect-to-forgotten-password"
          >
            Forgot password?
          </a>
        </div>

        <button
          class="
            dwmth-btn
            dwmth-btn--wide
            dwmth-btn--blue
            dwmth-form-submit-btn"
          data-test="auth-login-form-submit-button"
        >
          <span *ngIf="!isLoggingIn ; else loading">
            Log In
          </span>
          <ng-template #loading>
            <mat-spinner [diameter]="20" [strokeWidth]="2" color="accent"></mat-spinner>
          </ng-template>
        </button>
      </form>
  </div>

  <p
    class="
      dwmth-copy
      dwmth-copy--large"
  >
    Don't have an account?
    <a
      class="dwmth-blue"
      routerLink="/auth/register"
      data-test="auth-redirect-to-registration"
    >
      Register
    </a>
  </p>
</div>
