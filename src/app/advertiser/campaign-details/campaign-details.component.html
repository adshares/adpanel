<section class="dashboard-view">
  <div class="container">
    <div
      class="
        row
        align-center
        breadcrumbs"
    >
      <a routerLink="/advertiser/dashboard">
        <p
          class="
            adsh-copy
            adsh-copy--small"
        >
          My Campaigns
        </p>
      </a>
      <div
        class="
          adsh-circle
          adsh-circle--x-small
          adsh-circle--navy
          breadcrumbs-divider"
      >
      </div>
      <p
        class="
          adsh-copy
          adsh-copy--small
          adsh-copy--x-dark
          adsh-copy--semi"
      >
        {{ campaign.basicInformation.name }}
      </p>
    </div>
    <div
      class="
        row
        no-gutters
        justify-between
        align-center"
    >
      <div class="col-xs-4">
        <h1
          class="
            adsh-heading
            adsh-heading--primary"
        >
          {{ campaign.basicInformation.name }}
        </h1>
      </div>

      <div
        class="
          col-xs-8
          row
          justify-end
          align-center"
      >
        <div
          class="
            row
            status-toggle-wrapper"
        >
          <p>
            <span class="adsh-copy">Status: </span>
            <span
              class="
                adsh-copy
                adsh-copy--x-dark
                capitalize"
            >
              {{ campaignStatusesEnum[campaign.basicInformation.status].toLowerCase() }}
            </span>
          </p>
          <mat-slide-toggle
            color="primary"
            [checked]="campaign.basicInformation.status === campaignStatusesEnum.ACTIVE"
            ([ngModel])="campaign.basicInformation.status"
            (change)="onCampaignStatusChange(campaign.basicInformation.status)"
          ></mat-slide-toggle>
        </div>
        <button
          class="
            adsh-btn
            adsh-btn--white
            adsh-btn--no-border"
          (click)="navigateToEditCampaign()"
        >
          <img
            class="
              adsh-icon
              adsh-icon--prepend"
            src="assets/images/edit.svg"
            alt="Edit icon"
          >
          <span
            class="
              adsh-copy
              adsh-copy--dark"
          >
            Edit Campaign
          </span>
        </button>
      </div>
    </div>

    <div
      class="
        adsh-box
        adsh-box--large"
    >
      <div
        class="
          row
          align-center
          adsh-copy
          campaign-basic-information"
      >
        <div>
          <p class="adsh-copy--small">
            Target URL:
          </p>
          <p
            class="
              adsh-copy--dark
              adsh-copy--semi"
          >
            {{ campaign.basicInformation.targetUrl }}
          </p>
        </div>
        <div>
          <p class="adsh-copy--small">Bid Strategy</p>
          <p
            class="
              adsh-copy--dark
              adsh-copy--semi"
          >
            {{ campaign.basicInformation.bidStrategyName }} ({{ campaign.basicInformation.bidValue | number:'1.2-2' | commaReplacer | currency:USD }})
          </p>
        </div>
        <div>
          <p class="adsh-copy--small">Budget</p>
          <p
            class="
              adsh-copy--dark
              adsh-copy--semi"
          >
            {{ campaign.basicInformation.budget | number:'1.2-2' | commaReplacer | currency:USD }}
          </p>
        </div>
        <div>
          <p class="adsh-copy--small">Date of Start</p>
          <div
            class="
              row
              align-center"
          >
            <img
              class="
                adsh-icon
                adsh-icon--prepend"
              src="assets/images/calendar.svg"
              alt="Calendar Icon"
            >
            <p
              class="
                adsh-copy--dark
                adsh-copy--semi"
            >
              {{ campaign.basicInformation.dateStart }}
            </p>
          </div>

        </div>
        <div>
          <p class="adsh-copy--small">Date of End</p>
          <div
            class="
              row
              align-center"
          >
            <img
              class="
                adsh-icon
                adsh-icon--prepend"
              src="assets/images/calendar.svg"
              alt="Calendar Icon"
            >
            <p
              class="
                adsh-copy--dark
                adsh-copy--semi"
            >
              {{ campaign.basicInformation.dateEnd ? campaign.basicInformation.dateEnd : '-' }}
            </p>
          </div>
        </div>
      </div>
    </div>

    <!--mock chart-->
    <div
      class="
        adsh-box
        adsh-box--large"
    >
      <app-chart-filter-by-type
        (updateId)="appChartRef.updateChartDataSeries($event)"
        (updateSeries)="appChartRef.updateChartDataAssetId($event)"
      ></app-chart-filter-by-type>
      <div
        class="
            row
            align-center
            justify-center
            chart-wrapper"
      >
        <app-chart
          class="
            chart
            row
            align-center
            justify-center"
          (update)="getChartData($event)"
          [barChartData]="barChartData"
          [barChartLabels]="barChartLabels"
        ></app-chart>
      </div>
    </div>

    <div
      class="
        row
        justify-between
        campaign-details-statistics"
    >
      <div
        class="
          adsh-box
          adsh-box--large"
      >
        <p
          class="
            adsh-copy
            adsh-copy--small"
        >
          Budget
        </p>
        <p
          class="
            adsh-heading
            adsh-heading--primary"
        >
          {{ campaign.basicInformation.budget | currency:'USD' }}/day
        </p>
        <p
          class="
            adsh-copy
            adsh-copy--x-small
            adsh-blue"
        >
          - (-%)
        </p>
      </div>
      <div
        class="
          adsh-box
          adsh-box--large"
      >
        <p
          class="
            adsh-copy
            adsh-copy--small"
        >
          Clicks
        </p>
        <p
          class="
            adsh-heading
            adsh-heading--primary"
        >
          {{ campaign.clicks }}
        </p>
        <p
          class="
            adsh-copy
            adsh-copy--x-small
            adsh-blue"
        >
          - (-%)
        </p>
      </div>
      <div
        class="
          adsh-box
          adsh-box--large"
      >
        <p
          class="
            adsh-copy
            adsh-copy--small"
        >
          Cost
        </p>
        <p
          class="
            adsh-heading
            adsh-heading--primary"
        >
          {{ campaign.cost | number:'1.2-2' | commaReplacer | currency:'USD'  }}
        </p>
        <p
          class="
            adsh-copy
            adsh-copy--x-small
            adsh-blue"
        >
          - (-%)
        </p>
      </div>
      <div
        class="
          adsh-box
          adsh-box--large">
        <p
          class="
            adsh-copy
            adsh-copy--small">Conversions</p>
        <p
          class="
            adsh-heading
            adsh-heading--primary"
        >
          {{ campaign.conversions }}
        </p>
        <p
          class="
            adsh-copy
            adsh-copy--x-small
            adsh-blue"
        >
          - (-%)
        </p>
      </div>
      <div
        class="
          adsh-box
          adsh-box--large"
      >
        <p
          class="
            adsh-copy
            adsh-copy--small"
        >
          Cost/Conv
        </p>
        <p
          class="
            adsh-heading
            adsh-heading--primary"
        >
          {{ campaign.cost / campaign.conversions | currency:'USD'  }}
        </p>
        <p
          class="
            adsh-copy
            adsh-copy--x-small
            adsh-blue"
        >
          - (-%)
        </p>
      </div>
    </div>

    <app-ad-list [adList]="campaign.ads"></app-ad-list>

    <div class="adsh-box">
      <div
        class="
          row
          justify-center"
      >
        <button
          class="
            row
            align-center
            adsh-btn
            adsh-btn--large
            adsh-btn--white
            adsh-btn--no-border"
          (click)="navigateToCreateAd()"
        >
          <img
            src="assets/images/plus-circle--blue.svg"
            alt="Add new icon"
            class="
              adsh-icon
              adsh-icon--prepend"
          >
          <span
            class="
              adsh-heading
              adsh-heading--secondary"
          >
            Create new Ad
          </span>
        </button>
      </div>
    </div>
  </div>
</section>
